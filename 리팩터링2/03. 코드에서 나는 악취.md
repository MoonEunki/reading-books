# 코드에서 나는 악취

리팩터링이 필요한 지저분한 코드에서 나는 악취.

리팩터링을 언제 멈추어야하는가에 대한 정확한 기준을 제시하지않을것.

경험에따르면 숙련된 사람의 직관이 제일 정확하다 (??)

대신 리팩터링하면 해결할수있는 문제의 징후를 제시하겠다.

## 기이한 이름

변수,함수등의 이름을 잘지어라

이름만보고도 어떤일을 하고 어떻게 사용해야하는지 알수있도록.

마땅한 이름이 떠오르지않으면 설계에 문제가 숨어있을수도?

## 중복 코드

같은 코드가 반복된다면 하나로 통합하자

## 긴 함수

너무 긴 함수는 작은 함수들로 나누자

## 긴 매개변수 목록

## 전역 데이터

## 가변 데이터

요즘은 const같은것들이 나와서 괜찮은편

## 뒤엉킨 변경

단일책임원칙(SRP)가 제대로 지켜지지않을떄 발생한다

발생과정: 한코드에 섞여들어감

해법 : 맥락별로 분리

## 산탄총수술

발생과정: 여러코드에 흩뿌려짐

해법 : 맥락별로 모음

## 기능 편애

어떤 함수가 자기가 속한 모듈보다 다른 모듈이랑 상호작용이 많을때

## 데이터 뭉치

몰려다니는 데이터 뭉치는 보금자리를 따로 만들어줘야된다

## 기본형 집착

객체로 쓰면 더좋은데(7.3장) 굳이 기본형 쓰지말자

## 반복되는 switch 문

요즘엔 switch문이 발전해서 괜찮은편이지만 적당히쓰자.

## 반복문

for보단 filter, map 같은 파이프라인 연산을 사용하면 각 원소들이 어떻게 처리되는지 쉽게 파악할수있다.

## 성의없는 요소

코드를 그대로 쓰는것과 다를바없는 함수, 실질적으로 메서드 하나뿐인 클래스등은 자제

## 추측성 일반화

아직 필요없는데 미리 예측해서 하지말자

## 임시필드

특정상황에서만 값이 설정되는 필드를 가진 클래스가 있다면.. 보통 객체 가져올때는 모든필드에 값이 있을것으로 예상한다. 이런 임시필드가 있으면 헷갈리는 코드가될수있다

## 메시지 체인

게터가 꼬리에 꼬리를 물고이어지는것. 중간단계를 수정하면 하위단계를 수정해야된다

## 중개자

클래스 메서드중 절반이 다른클래스에 구현을 위임하고있다면 중개자를 제거하여 실제 일하는 객체와 직접 소통하게 하자. 클래스가 단순 중개자로 전락한다면 굳이 필요없을것

## 내부자 거래

## 거대한 클래스

한 클래스가 너무 많은 일을하면 분리하자

## 서로 다른 인터페이스의 대안 클래스들

## 데이터 클래스

게터와 세터만 존재하는 클래스인데, 다른클래스가 너무 깊이까지 함부로 다룰수 있다. 데이터클래스는 필요한 동작이 엉뚱한곳에 정의돼있다는 신호일수있음.

## 상속 포기

## 주석

주석은 향기를 입힌다. 하지만 냄새나는 코드를 덮기위해 주석을 쓰는건 별로.
